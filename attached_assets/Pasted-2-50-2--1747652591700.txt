2. Античит
    * Сервер считает скорость: если > 50 тапов за 2 сек, игрок помечается как читер и блокируется на текущую игру. 
    * Клиентские пакеты валидируются по таймстампам и user_id. 
3. Reconnect
    * При потере WS соединения клиент автоматически переподключается в фоне с экспоненциальным бэкоффом (200 мс → 1 с → 2 с → 5 с). 
    * После восстановления присылается полный статус прогресса. 
4. Реакции перед игрой
    * В комнате до старта игроки видят аватарки друг друга и могут кликнуть по фото, чтобы отправить случайный эмодзи‑реакцию всем участникам или кликать на свою аватарку чтоб излучать смайлики . 

9. UX: что видит пользователь
Этап	Экран и поведение
1. Запуск через бота	Бот присылает welcome‑сообщение на русском или на английском согласно гео данным с кнопкой «Вход в игру». Нажал — открылся web‑app открывается игра без дополнительных регистраций 
2. Главный экран	В шапке:слева вверху название приложение Chance Tap, аватар, имя, баланс . Шесть карточек комнат (20…500 Stars). Нижнее меню: Home(главная ) / Leaderboard (лидеры) / Profile (Профиль) / Create (Создать).
3. Выбор комнаты	При тапе по карточке: если недостаточно Баланса — автоматически стартует Telegram‑платёж Ton или выбор разных платежей, если средств достаточно попадает сразу в комнату где будет ждать всех игроков если в базе все комнаты заняты автоматически создается комната и туда помещается игрок и уже к этой комнате подключаются другие игроки ждем 60 секунд на сбор и подготовку всех игроков в режиме ожидания когда игроков это стандартная комната и когда набирается 10 игроков игра запускает таймер на старт внимание TAP это как отсчет 1,2,3. 
4. Ожидание	Заголовок с типом и ценой комнаты, счётчик участников (аватарки по полукругу с именемвсе игроки собираются  вокруг круглой кнопки для тапа  ), текст «Ожидаем X из Y игроков и таймеры 60 секунд на подготовку».
5. Начало игры	Стартует обратный отсчёт 3…1, прогресс‑бары по краям, центральная круглая кнопка «TAP». Таймер 60 с на игру .
6. Игра	Каждый тап мгновенно увеличивает локальный счётчик; пакеты по 20 тапов уходят на сервер; прогресс‑бары обновляются все игроки видят прогрейбар друг друга .
7. Результаты	Появляется победитель (аватар в центре) и призовой фонд. Две кнопки: «В лобби» и «Сыграть ещё».
8. Hero‑комната совсем другая логика	В Create(создать): выбор «Создать комнату» или войти,  при создании комнаты пользователь становится организатором и должен (задать сумму взноса  fee) когда организатор нажимает создать генерируется уникальный ключ который отображается у него на экране то есть появляется отдел где лежит этот уникальный ключ и организатор сможет поделится этим ключом с другими пользователями и активируется внизу экрана справа таймер который отсчитывает 5 минут если в течении пяти минут организатор не начинает игру комната автоматически удаляется и всем участникам возвращаются деньги назад а так же всех участников которые в комнате включая организатора выбрасывает на прошлую страницу автоматически хочу добавить что организатор может войти в комнату как организатор чтоб просто смотреть за процессом но принимать участие он не может так же организатор может в реальном времени видеть кто подключился к комнате все выстраиваются по кругу вокруг кнопки и у организатора должна быть кнопка старт или начать в этой комнате логика запуска игры происходит в ручном режиме Организатор создает комнату бесплатно и с него не берется оплата за вход в комнату потому что он приобретает статус организатор так же есть другое окно отдельно называется войти, когда пользователь нажимает  «Войти по ключу» он вводит ключ который передал ему организатор  автоматически взымается → оплата → и пользователь входит в комнату где видит в реальном времени других подключившихся игроков когда организатор считает что все игроки вошли он может начать игру и начинается отсчет старт внимание TAP где игрокам нужно тапать по кнопке , победитель определяется тот кто набирает 200 тапов или тот кто набрал больше всех тапов за 60 секунд игры таймер игры должен быть вверху слева когда игра завершается победитель получает 90%  банка а организатор получает 10% банка на счет 
Бонус комната	Кнопка «Start Bonus», прогресс‑бар (0/1 000 000), таймер 24 ч. При выполнении — +100 $ и возврат на Home прогрей или не завершенное событие можно наблюдать или отменить как в самой комнате бонуса так и в профиле пользователя .
10. Лидерборд	Топ‑10 за «Сегодня/Неделю/Все время» с аватаром, именем и суммой выигрыша.
11. Профиль	Баланс, адрес TON‑кошелька, статистика (выиграно), реферальная секция с кодом и списком рефералов. И отображение событий бонус комнаты если комната запущена если бонус комната не запущена отображение этого раздела не должно быть 
